<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JUCHA - Kombucha</title>
<style>
body {
  margin:0; font-family:'Segoe UI',sans-serif; background:#fff7ed; display:flex;
  flex-direction:column; align-items:center; padding:24px; transition: background 0.3s;
}
.container {max-width:900px; width:100%; display:flex; flex-direction:column; gap:2rem;}
header {text-align:center; margin-bottom:2rem;}
header img {max-width:140px; margin-bottom:1rem;}
header h1 {font-size:3rem; font-weight:800; color:#b45309; margin:0;}
header p {margin:0.25rem 0; color:#4b5563; font-style:italic; font-size:1.2rem;}
.variants {display:flex; gap:1rem; flex-wrap:wrap; justify-content:center;}
.variant-card {background:white; border-radius:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.1);
  width:220px; text-align:center; padding:1rem; transition:0.3s transform,0.3s box-shadow,0.3s border;
  position:relative; cursor:pointer; overflow:hidden;}
.variant-card:hover {transform:translateY(-5px) scale(1.05); box-shadow:0 12px 25px rgba(0,0,0,0.2); border:2px solid #f59e0b;}
.variant-card img {width:100%; border-radius:0.75rem; margin-bottom:0.5rem; transition:0.3s;}
.variant-card .hover-img {position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:0.3s; border-radius:1rem;}
.variant-card:hover .hover-img {opacity:0.95;}
.variant-card h3 {margin:0; font-size:1.25rem; color:#374151; position:relative; z-index:1;}
.variant-card p.price {margin:0.25rem 0; font-weight:700; font-size:1.1rem; position:relative; z-index:1;}
.variant-card p.desc {margin:0.25rem 0; font-size:0.875rem; color:#6b7280; position:relative; z-index:1;}
.quantity-controls {display:flex; gap:0.5rem; align-items:center; justify-content:center; margin-top:0.5rem; position:relative; z-index:1;}
.quantity-controls button {padding:0.3rem 0.8rem; border:1px solid #d1d5db; border-radius:0.5rem; background:white; font-size:1.2rem; transition:0.2s; cursor:pointer;}
.quantity-controls button:hover:not(:disabled){background-color:#f3f4f6;}
.quantity-controls button:disabled{opacity:0.5; cursor:not-allowed;}
.quantity-display {width:2.5rem; text-align:center; font-weight:600; font-size:1.25rem;}
.discount-badge {position:absolute; top:10px; left:10px; background:#dc2626; color:white; font-weight:700; font-size:0.8rem; padding:0.25rem 0.5rem; border-radius:0.5rem; box-shadow:0 2px 6px rgba(0,0,0,0.2); z-index:2;}
.stock-text {margin-top:0.25rem; font-weight:700; color:#dc2626; min-height:1.2em;}
.order-section {background:white; border-radius:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.1); padding:1rem; display:flex; flex-direction:column; gap:1rem;}
select, input[type=text] {width:100%; padding:0.5rem; border:1px solid #d1d5db; border-radius:0.5rem; font-size:1rem;}
.total-text {font-weight:700; font-size:1.2rem; color:#b45309; transition: background 0.3s; padding:0.25rem; border-radius:0.25rem;}
.summary-section {background:white; border-radius:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.1); padding:1rem; white-space:pre-wrap; font-family:monospace; font-size:0.95rem; line-height:1.4; transition: background 0.3s;}
button.whatsapp-btn {background-color:#f59e0b; color:white; font-weight:700; padding:0.5rem 1rem; border:none; border-radius:1rem; font-size:1rem; cursor:pointer; transition:0.3s; margin-top:0.5rem; box-shadow:0 5px 12px rgba(0,0,0,0.2);}
button.whatsapp-btn:hover {background-color:#d97706;}
footer {margin-top:2rem; text-align:center; font-size:0.875rem; color:#6b7280;}
footer a {color:#b45309; text-decoration:none; margin:0 0.25rem;}
footer a:hover {text-decoration:underline;}
@media(max-width:600px){.variants{flex-direction:column; align-items:center;}}

/* Floating WhatsApp */
.whatsapp-float {
  position:fixed; 
  bottom:20px; 
  right:20px; 
  background:#25D366; 
  color:white; 
  border-radius:50%; 
  width:60px; 
  height:60px; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  box-shadow:0 4px 12px rgba(0,0,0,0.3); 
  z-index:1000; 
  text-decoration:none;
  animation:pulse 2s infinite;
}
.whatsapp-float img {width:32px; height:32px;}
.tooltip {
  position:absolute;
  right:70px;
  background:#374151;
  color:white;
  padding:6px 10px;
  border-radius:8px;
  font-size:0.85rem;
  white-space:nowrap;
  box-shadow:0 2px 8px rgba(0,0,0,0.2);
  opacity:0;
  transform:translateY(5px);
  transition:all 0.3s ease;
  pointer-events:none;
}
.whatsapp-float:hover .tooltip {
  opacity:1;
  transform:translateY(0);
}
@keyframes pulse {
  0% {transform:scale(1);}
  50% {transform:scale(1.15);}
  100% {transform:scale(1);}
}
</style>
</head>
<body>

<header>
  <alt="JUCHA Logo">
  <h1>JUCHA</h1>
  <p>Boost Your Day</p>
  <p>Ready Sekitar Kampus Unair</p>
</header>

<div class="container">
  <div class="variants" id="variantsContainer">
    <div class="variant-card" data-variant="classic">
      <div class="discount-badge">Diskon 9%</div>
      <img src="ja.jpg" alt="Classic Kombucha">
      <img src="ja.jpg" class="hover-img" alt="Classic Preview">
      <h3>Original</h3>
      <p class="price"><span style="text-decoration:line-through; color:#9ca3af; font-size:0.9rem; margin-right:6px;">Rp11.000</span><span style="color:#b45309; font-weight:700;">Rp10.000</span></p>
      <p class="desc">Kombucha original 200ml, rasa segar untuk energi harian.</p>
      <div class="quantity-controls">
        <button type="button" class="decrease">-</button>
        <span class="quantity-display">0</span>
        <button type="button" class="increase">+</button>
      </div>
      <div class="stock-text"></div>
    </div>

    <div class="variant-card" data-variant="strawberry">
      <div class="discount-badge">Diskon 23%</div>
      <img src="jb.jpg" alt="Strawberry Kombucha">
      <img src="jb.jpg" class="hover-img" alt="Strawberry Preview">
      <h3>Strawberry</h3>
      <p class="price"><span style="text-decoration:line-through; color:#9ca3af; font-size:0.9rem; margin-right:6px;">Rp13.000</span><span style="color:#b45309; font-weight:700;">Rp10.000</span></p>
      <p class="desc">Kombucha strawberry 200ml, manis asam segar, kaya probiotik.</p>
      <div class="quantity-controls">
        <button type="button" class="decrease">-</button>
        <span class="quantity-display">0</span>
        <button type="button" class="increase">+</button>
      </div>
      <div class="stock-text"></div>
    </div>

    <div class="variant-card" data-variant="telang">
      <div class="discount-badge">Diskon 17%</div>
      <img src="jc.jpg" alt="Telang Kombucha">
      <img src="jc.jpg" class="hover-img" alt="Telang Preview">
      <h3>Telang</h3>
      <p class="price"><span style="text-decoration:line-through; color:#9ca3af; font-size:0.9rem; margin-right:6px;">Rp12.000</span><span style="color:#b45309; font-weight:700;">Rp10.000</span></p>
      <p class="desc">Kombucha bunga telang 200ml, unik dan menenangkan.</p>
      <div class="quantity-controls">
        <button type="button" class="decrease">-</button>
        <span class="quantity-display">0</span>
        <button type="button" class="increase">+</button>
      </div>
      <div class="stock-text"></div>
    </div>
  </div>

  <div class="order-section">
    <label>Nama Pembeli</label>
    <input type="text" id="nameInput" placeholder="Masukkan nama anda">

    <label>Metode Pembayaran</label>
    <select id="paymentSelect">
      <option value="QRIS">QRIS</option>
      <option value="COD">COD</option>
    </select>

    <!-- QRIS Section -->
    <div id="qrisSection" style="display:none; text-align:center; margin-top:1rem;">
      <p style="font-weight:600; margin-bottom:0.5rem;">Scan QRIS untuk pembayaran</p>
      <img src="c.jpg" alt="QRIS Payment" style="max-width:200px; border-radius:0.75rem; box-shadow:0 4px 10px rgba(0,0,0,0.15);">
    </div>

    <p id="totalText" class="total-text">Total: Rp0</p>
  </div>

  <div class="summary-section" id="summaryText">Ringkasan akan muncul di sini.</div>
  <button id="whatsappBtn" class="whatsapp-btn">Lanjutkan Pembayaran via WhatsApp</button>
</div>

<footer>
  <div style="margin-bottom:0.75rem;">
    <img src="b.png" alt="Logo JUCHA" style="max-width:100px;">
  </div>
  <p style="margin:0.25rem 0; font-size:0.95rem; color:#374151; font-weight:500; letter-spacing:0.3px;">
    Customer Care: 
    <a href="https://wa.me/6285824572713" target="_blank" style="color:#b45309; text-decoration:none; font-weight:500;">
      +62 858-2457-2713
    </a>
  </p>
  <p style="margin:0.25rem 0; font-size:0.95rem; color:#374151;">
    Follow us:
    <a href="https://instagram.com/jucha.byd" target="_blank">Instagram</a> |
    <a href="https://tiktok.com/@jucha.official" target="_blank">TikTok</a>
  </p>
  <p style="margin-top:0.75rem; font-size:0.8rem; color:#9ca3af;">
    Â© 2025 JUCHA. All rights reserved.
  </p>
</footer>

<!-- Floating WhatsApp Button -->
<a href="https://wa.me/6285824572713" target="_blank" class="whatsapp-float">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
  <span class="tooltip">Chat Customer Care</span>
</a>

<script>
(function(){
  const PRICES = {
    classic:{one:11000, promo:10000, stock:10},
    strawberry:{one:13000, promo:10000, stock:10},
    telang:{one:12000, promo:10000, stock:10}
  };
  const PHONE = "6285824572713";

  const nameInput = document.getElementById('nameInput');
  const paymentSelect = document.getElementById('paymentSelect');
  const totalText = document.getElementById('totalText');
  const summaryText = document.getElementById('summaryText');
  const whatsappBtn = document.getElementById('whatsappBtn');
  const variantCards = document.querySelectorAll('.variant-card');
  const qrisSection = document.getElementById('qrisSection');
  let quantities = {classic:0, strawberry:0, telang:0};

  function calcTotal(){
    let total=0;
    for(const v in quantities){
      if(quantities[v]>0){ total+=quantities[v]*PRICES[v].promo; }
    }
    return total;
  }

  function formatRp(n){ return new Intl.NumberFormat("id-ID").format(n); }
  function highlightTotal(){ totalText.style.background="#fde68a"; setTimeout(()=>{totalText.style.background="transparent";},300); }

  function generateSummary(){
    const name=nameInput.value.trim()||"[Nama Pembeli]";
    const payment=paymentSelect.value;
    const today=new Date();
    const tanggal=today.getDate().toString().padStart(2,'0')+"-"+(today.getMonth()+1).toString().padStart(2,'0')+"-"+today.getFullYear();
    
    let summary="JUCHA\n============================\nNama Pembeli: "+name+"\nTanggal: "+tanggal+"\n----------------------------\n";
    
    for(const v in quantities){
      if(quantities[v]>0){
        const qty=quantities[v];
        const normalPrice=qty*PRICES[v].one;
        const promoTotal=qty*PRICES[v].promo;
        const discount=normalPrice-promoTotal;
        let nama="";
        if(v==="classic") nama="Original";
        if(v==="strawberry") nama="Strawberry";
        if(v==="telang") nama="Telang";
        summary+="- "+nama+" 200ml: "+qty+" botol\n  Harga normal: Rp"+formatRp(normalPrice)+"\n  Diskon: -Rp"+formatRp(discount)+"\n  Harga bayar: Rp"+formatRp(promoTotal)+"\n";
      }
    }
    summary+="----------------------------\nMetode Pembayaran: "+payment+"\nTotal: Rp"+formatRp(calcTotal())+"\n============================";
    highlightTotal();
    return summary;
  }

  function updateStockText(card, variant){
    const stockDiv = card.querySelector('.stock-text');
    const remaining = PRICES[variant].stock - quantities[variant];
    const increaseBtn = card.querySelector('.increase');
    if(remaining <= 0){
      stockDiv.textContent = "SOLD OUT";
      stockDiv.style.color="#dc2626";
      stockDiv.style.fontWeight = "700";
      increaseBtn.disabled = true;
    } else {
      increaseBtn.disabled = false;
      if(remaining <= 4){
        stockDiv.textContent = "Stok tersisa: "+remaining+" botol";
        stockDiv.style.color="#dc2626";
        stockDiv.style.fontWeight = "700";
      } else {
        stockDiv.textContent = ""; // tetap kosong jika >4
      }
    }
  }

  function updateUI(){
    variantCards.forEach(card=>{
      const variant=card.dataset.variant;
      card.querySelector('.quantity-display').textContent=quantities[variant];
      updateStockText(card, variant);
    });
    totalText.textContent="Total: Rp"+formatRp(calcTotal());
    summaryText.textContent=generateSummary();
    qrisSection.style.display = paymentSelect.value==="QRIS" ? "block" : "none";
  }

  variantCards.forEach(card=>{
    const variant=card.dataset.variant;
    const decreaseBtn=card.querySelector('.decrease');
    const increaseBtn=card.querySelector('.increase');
    decreaseBtn.addEventListener('click',()=>{ if(quantities[variant]>0){ quantities[variant]--; updateUI(); }});
    increaseBtn.addEventListener('click',()=>{ quantities[variant]++; updateUI(); });
  });

  nameInput.addEventListener('input', updateUI);
  paymentSelect.addEventListener('change', updateUI);

  whatsappBtn.addEventListener('click',()=>{
    if(!nameInput.value.trim()){ alert("Mohon isi Nama Pembeli"); nameInput.focus(); return; }
    const summary=summaryText.textContent;
    const encoded=encodeURIComponent(summary);
    window.open("https://wa.me/"+PHONE+"?text="+encoded,"_blank");
  });

  updateUI();
})();
</script>

</body>
</html>
